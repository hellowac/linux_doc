<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Linux自记录文档</title>
                <meta name="robots" content="noindex" />
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="introduction.html">简介</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="freedesktop/introduction.html">freedesktop.org</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><div>软件</div></li><li class="chapter-item "><div>规范</div></li><li class="chapter-item "><div>其他</div></li></ol></li><li class="chapter-item expanded "><a href="systemd/index.html">systemd</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="systemd/introduction.html">简介</a></li></ol></li><li class="chapter-item expanded "><a href="environment_variables/index.html">环境变量</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="environment_variables/common_variables.html">常见环境变量</a></li></ol></li><li class="chapter-item expanded "><a href="op/index.html">常用操作</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="op/view_port_occupancy.html">查看端口占用</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="op/view_port_lsof.html">lsof</a></li><li class="chapter-item "><a href="op/view_port_netstat.html">netstat</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="mac/index.html">MAC常用操作</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><div></div></li></ol></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">Linux自记录文档</h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="简介"><a class="header" href="#简介">简介</a></h1>
<p>本文档主要记录与Linux相关的知识分享、命令使用方法、技巧等等。</p>
<p>部分参考自: <a href="http://www.jinbuguo.com/">金步国作品集</a> - 致敬！！！</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="freedesktoporg"><a class="header" href="#freedesktoporg">freedesktop.org</a></h1>
<p>官网: <a href="https://www.freedesktop.org/">https://www.freedesktop.org/</a></p>
<p>source code: <a href="https://gitlab.freedesktop.org/">https://gitlab.freedesktop.org/</a></p>
<h2 id="welcome-to-freedesktoporg"><a class="header" href="#welcome-to-freedesktoporg">Welcome to freedesktop.org</a></h2>
<p>freedesktop.org 托管免费和开源软件的开发，专注于开源图形和桌面系统的互操作性和共享技术。 我们自己不生产桌面，但我们旨在帮助其他人这样做。</p>
<p>我们松散的项目社区主要生产<a href="https://www.freedesktop.org/wiki/Software/">软件</a>以及<a href="https://www.freedesktop.org/wiki/Specifications/">规范</a>。</p>
<h2 id="software-projects"><a class="header" href="#software-projects">Software projects</a></h2>
<p>我们的大多数成员项目都生产用作库或服务的软件。 完整列表可在我们的<a href="https://www.freedesktop.org/wiki/Software/">软件页面</a>上找到。</p>
<p>我们托管的大部分软件都专注于图形和媒体设备的驱动程序和中间件、进程间通信和授权、输入和国际化。</p>
<p>freedesktop.org 上的所有软件都是开源的，并且对社区贡献开放。 <a href="https://www.freedesktop.org/wiki/Software/">软件页面</a>解释了如何报告错误并提出对每个项目的更改。</p>
<h2 id="specifications"><a class="header" href="#specifications">Specifications</a></h2>
<p>我们还主持互操作性规范的讨论和开发。 完整列表可在我们的<a href="https://www.freedesktop.org/wiki/Specifications/">规范</a>页面上找到。</p>
<p>这些规范主要涵盖低级桌面问题，例如识别文件类型、启动应用程序以及在应用程序和桌面之间交换数据。 它们通常被称为“XDG”规范，作为 <em>Cross-Desktop Group</em> 的首字母缩写词。</p>
<p>freedesktop.org 不是一个正式的标准机构，本身也不是一个平台； 我们没有合规性测试或认证。 任何人都可以免费使用和实施本网站上的规范； <a href="https://www.freedesktop.org/wiki/Specifications/">规范</a>页面解释了如何提出更改和现有规范，或全新的规范。</p>
<h2 id="infrastructure"><a class="header" href="#infrastructure">Infrastructure</a></h2>
<p>我们用来为我们的项目提供这些服务的基础设施记录在我们的<a href="https://www.freedesktop.org/wiki/Infrastructure/">基础设施</a>页面上。 您可以快速访问我们大部分代码所在的 <a href="https://gitlab.freedesktop.org/">GitLab 实例</a>、我们的<a href="https://lists.freedesktop.org/">邮件列表</a>，或进一步浏览这些 wiki 页面以了解更多信息。</p>
<h2 id="getting-involved"><a class="header" href="#getting-involved">Getting Involved</a></h2>
<p>我们欢迎所有新的贡献者，无论您的技能如何，我们的目标是成为一个您可以作为开源贡献者学习和成长的地方。</p>
<p>进入的第一个点是找到您想从事的项目，通常是通过我们的<a href="https://www.freedesktop.org/wiki/Software/">软件</a>或<a href="https://www.freedesktop.org/wiki/Specifications/">规范</a>页面。 每个项目都应该有一个关于如何报告问题、讨论更改和回馈的明确链接——这几乎肯定会出现在我们 <a href="https://gitlab.freedesktop.org/">GitLab 实例</a>的该项目页面上。</p>
<p>如果您想创建一个新的 freedesktop.org 项目，或请求托管您想移至此处的现有项目，请查看<a href="https://www.freedesktop.org/wiki/NewProject/">新项目页面</a>。</p>
<h2 id="code-of-conduct"><a class="header" href="#code-of-conduct">Code of Conduct</a></h2>
<p>freedesktop.org 对我们托管的所有服务都采用了贡献者契约。 请以适当的方式行事，避免辱骂、欺凌和/或歧视行为。 如需更多信息，包括在何处报告任何不当行为，请查阅完整的<a href="https://www.freedesktop.org/wiki/CodeOfConduct/">行为准则</a>。</p>
<h2 id="privacy-and-personal-information"><a class="header" href="#privacy-and-personal-information">Privacy and personal information</a></h2>
<p>当您使用 freedesktop.org 服务时，您可能会向我们披露个人身份信息。 我们的<a href="https://www.freedesktop.org/wiki/PrivacyPolicy/">隐私政策</a>解释了我们如何收集和使用这些数据。</p>
<h2 id="contact-us"><a class="header" href="#contact-us">Contact us</a></h2>
<p>如果您对站点本身或我们的基础架构有任何疑问，可以通过 sitewranglers 列表或 OFTC 的 #freedesktop IRC 频道联系管理员。 平台范围的公告和讨论通常在 freedesktop <a href="https://lists.freedesktop.org/">邮件列表</a>中。</p>
<p>请注意，在 IRC 上回答您的问题可能需要一些时间，而且我们也不太可能帮助解决项目特定的问题（例如，“为什么 ModemManager 会崩溃？”）。 与特定成员项目有关的问题或问题应直接发送到该项目自己的邮件列表或错误跟踪器。</p>
<h2 id="sponsors"><a class="header" href="#sponsors">Sponsors</a></h2>
<p>freedesktop.org 是一个完全自愿的组织，没有企业支持或资金流。 我们是 <a href="https://www.x.org/wiki/XorgFoundation/">X.org 基金会</a>的一部分，该基金会是 <a href="https://www.spi-inc.org/">Software in the Public Interest, Inc.</a> 的成员项目，目的是持有资产。</p>
<p>我们要感谢 <a href="https://metal.equinix.com/">Equinix Metal</a> 和<a href="https://www.pdx.edu/">波特兰州立大学</a>对托管 freedesktop.org 所需的基础设施的慷慨支持。 我们也感谢 <a href="https://about.gitlab.com/">GitLab</a>、<a href="https://opensource.google/">谷歌</a>、<a href="https://www.intel.com/">英特尔</a>和<a href="https://www.hp.com/">惠普</a>之前赞助我们的一些服务器。 这些善意的捐赠使我们能够运行我们所做的服务。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="systemd"><a class="header" href="#systemd">systemd</a></h1>
<p>本部分翻译主要参考自 <a href="http://www.jinbuguo.com/systemd/systemd.index.html">http://www.jinbuguo.com/systemd/systemd.index.html</a></p>
<p>以及 systemd 官网: <a href="https://systemd.io/">https://systemd.io/</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="简介-1"><a class="header" href="#简介-1">简介</a></h1>
<div style="break-before: page; page-break-before: always;"></div><ul>
<li><a href="environment_variables/index.html#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F">环境变量</a>
<ul>
<li><a href="environment_variables/index.html#linux%E7%B3%BB%E7%BB%9F">Linux系统</a>
<ul>
<li><a href="environment_variables/index.html#%E6%B7%BB%E5%8A%A0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F">添加环境变量</a></li>
<li><a href="environment_variables/index.html#%E5%88%A0%E9%99%A4%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F">删除环境变量</a></li>
</ul>
</li>
<li><a href="environment_variables/index.html#linux%E7%9A%84%E5%8F%98%E9%87%8F%E7%A7%8D%E7%B1%BB">Linux的变量种类</a></li>
<li><a href="environment_variables/index.html#%E8%AE%BE%E7%BD%AE%E5%8F%98%E9%87%8F%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E6%B3%95">设置变量的三种方法</a>
<ul>
<li><a href="environment_variables/index.html#%E7%BC%96%E8%BE%91etcprofile">编辑<code>/etc/profile</code></a></li>
<li><a href="environment_variables/index.html#%E7%BC%96%E8%BE%91%E7%94%A8%E6%88%B7%E7%9B%AE%E5%BD%95%E4%B8%8Bbash_profile">编辑用户目录下<code>.bash_profile</code></a></li>
<li><a href="environment_variables/index.html#%E8%BF%90%E8%A1%8Cexport%E5%91%BD%E4%BB%A4">运行<code>export</code>命令</a></li>
</ul>
</li>
<li><a href="environment_variables/index.html#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E7%9A%84%E6%9F%A5%E7%9C%8B">环境变量的查看</a>
<ul>
<li><a href="environment_variables/index.html#%E4%BD%BF%E7%94%A8echo%E5%91%BD%E4%BB%A4">使用<code>echo</code>命令</a></li>
<li><a href="environment_variables/index.html#%E4%BD%BF%E7%94%A8env%E5%91%BD%E4%BB%A4">使用<code>env</code>命令</a></li>
<li><a href="environment_variables/index.html#%E4%BD%BF%E7%94%A8set%E6%9F%A5%E7%9C%8B">使用set查看</a></li>
</ul>
</li>
<li><a href="environment_variables/index.html#%E5%B8%B8%E7%94%A8%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F">常用的环境变量</a></li>
</ul>
</li>
</ul>
<h1 id="环境变量"><a class="header" href="#环境变量">环境变量</a></h1>
<p>参考: <a href="https://zh.wikipedia.org/wiki/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F">https://zh.wikipedia.org/wiki/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F</a></p>
<p><strong>环境变量</strong>（environment variables）一般是指在操作系统中用来指定操作系统运行环境的一些参数，如：<code>临时文件夹位置</code>和<code>系统文件夹位置</code>等。</p>
<p><strong>环境变量</strong> 是在操作系统中一个具有特定名字的对象，它包含了一个或者多个应用程序所将使用到的信息。例如<code>Windows</code>和<code>DOS</code>操作系统中的<code>path</code>环境变量，当要求系统运行一个程序而没有告诉它程序所在的完整路径时，系统除了在当前目录下面寻找此程序外，还应到<code>path</code>中指定的路径去找。用户通过设置环境变量，来更好的运行进程。</p>
<h2 id="linux系统"><a class="header" href="#linux系统">Linux系统</a></h2>
<p><code>shell环境</code>依赖于多个文件的设置。当<code>shell</code>被调用时，它从两个初始文件读取命令。<code>/etc/profile</code>包含了<strong>系统变量</strong>，它由系统管理员维护，由系统管理员设置<code>本地系统变量</code>和<code>特殊命令</code>。普通用户的<code>启动信息文件</code>(<code>$HOME/.bash_project</code>)由各用户自己维护，该文件可以被修改以实现任何特定的系统初始化。</p>
<p>只有在特定的情况下才读取<code>profile</code>文件，确切的说是在用户登陆的时候。当运行<code>shell脚本</code>或<code>subshell</code>以后，就无须再读<code>profile</code>。虽然所有<code>profile</code>都可选的，但是基本上所有系统都有<code>/etc/profile</code>.</p>
<p>如果定义了变量<code>ENV</code>且已经传递到环境中，则所有的<code>bash shell</code>都要读取并调用由这个变量指定的文件所包含的命令。这个文件用来定义所有<code>bash shell</code>的特征，而不仅仅是登陆到<code>shell</code>。这个文件的典型的名字是<code>$HOME/.bashrc</code>。</p>
<p>当用（系统管理员）新建用户时，<code>.bash_profile</code>、<code>bashrc</code>和其他公共的环境文件模板将复制到<code>/etc/skel</code>这个目录下面。可以编辑这些初始化设置，也可以在此目录下添加附加的文件。</p>
<p>(常见的有<code>HOSTNAME</code>,<code>SHELL</code>,<code>HISTSIZE</code>,<code>PERL5LIB</code>,<code>USER</code>,<code>PATH</code>,<code>PWD</code>,<code>LANG</code>,<code>HOME</code>, <code>LD_LIBRARY_PATH</code>(指定动态链接库的位置so文件，一般在安装软件出错时用到)，<code>PYTHONPATH</code>（指定python安装包的路径）, <code>PERL5LIB</code>（指定perl安装包的路径）)</p>
<p>使用<code>set</code>命令显示所有本地定义的<code>Shell变量</code></p>
<pre><code class="language-bash">&gt; set
'!'=0
'#'=0
'$'=15864
'*'=(  )
-=569JNRXZghiklms
0=/bin/zsh
'?'=0
@=(  )
ARGC=0
BG
CDPATH=''
...
```　　

使用`readonly`命令设置只读变量,变量就不可以被修改或清除

**环境变量的设置位于`/etc/profile`文件**

### 查看环境变量

```bash
&gt; # 查看当前全部的环境变量:
&gt; env
&gt; # 查看特定环境变量: echo ＋$变量名
&gt; echo $PATH 
</code></pre>
<h3 id="添加环境变量"><a class="header" href="#添加环境变量">添加环境变量</a></h3>
<p>例如要将 <code>/home/admin/code/lib/include</code> 加入到环境变量 <strong>LD_LIBRARY_PATH</strong> 中，可以在<code>shell</code>中输入:</p>
<pre><code class="language-bash">&gt; # 这要写绝对路径
&gt; export LD_LIBRARY_PATH=/home/admin/code/lib/include
</code></pre>
<h3 id="删除环境变量"><a class="header" href="#删除环境变量">删除环境变量</a></h3>
<pre><code class="language-bash">&gt; unset LD_LIBRARY_PATH
&gt; # 万一设置错了，或者更改可使用，或取消设置。
</code></pre>
<h2 id="linux的变量种类"><a class="header" href="#linux的变量种类">Linux的变量种类</a></h2>
<p>按变量的生存周期来划分，Linux变量可分为两类：</p>
<ol>
<li><strong>永久的</strong>：需要修改配置文件，变量永久生效。</li>
<li><strong>临时的</strong>：使用<code>export</code>命令声明即可，变量在关闭shell时失效。</li>
</ol>
<h2 id="设置变量的三种方法"><a class="header" href="#设置变量的三种方法">设置变量的三种方法</a></h2>
<h3 id="编辑etcprofile"><a class="header" href="#编辑etcprofile">编辑<code>/etc/profile</code></a></h3>
<p>【<strong>对所有用户生效(永久的)</strong>】</p>
<p>用VI在文件/etc/profile文件中增加变量，该变量将会对Linux下所有用户有效，并且是“永久的”。</p>
<p>例如：编辑/etc/profile文件，添加CLASSPATH变量</p>
<pre><code class="language-bash">\&gt; # vi /etc/profile
export CLASSPATH=./JAVA_HOME/lib;$JAVA_HOME/jre/lib
</code></pre>
<p><strong>注</strong>：修改文件后要想马上生效还要运行<code>source /etc/profile</code>不然只能在下次重进此用户时生效。</p>
<h3 id="编辑用户目录下bash_profile"><a class="header" href="#编辑用户目录下bash_profile">编辑用户目录下<code>.bash_profile</code></a></h3>
<p>【<strong>对单一用户生效(永久的)</strong>】</p>
<p>用<code>VI</code>在用户目录下的<code>.bash_profile</code>文件中增加变量，改变量仅会对当前用户有效，并且是 <strong>“永久的”</strong>。</p>
<p>例如：编辑<code>guok</code>用户目录(<code>/home/guok</code>)下的<code>.bash_profile</code></p>
<p><code>$ vi /home/guok/.bash.profile</code></p>
<p>添加如下内容：</p>
<p><code>export CLASSPATH=./JAVA_HOME/lib;$JAVA_HOME/jre/lib</code></p>
<p><strong>注</strong>：修改文件后要想马上生效还要运行 <code>source /home/guok/.bash_profile</code> 不然只能在下次重进此用户时生效。</p>
<h3 id="运行export命令"><a class="header" href="#运行export命令">运行<code>export</code>命令</a></h3>
<p>【只<strong>对当前shell(BASH)有效(临时的)</strong>】</p>
<p>在<code>shell</code>的命令行下直接使用 <code>[export 变量名=变量值]</code> 定义变量</p>
<p>该变量只在当前的<code>shell(BASH)</code>或其<code>子shell(BASH)</code>下是有效的。</p>
<p><code>shell</code>关闭了，变量也就失效了，再打开新<code>shell</code>时就没有这个变量，需要使用的话还需要重新定义。</p>
<h2 id="环境变量的查看"><a class="header" href="#环境变量的查看">环境变量的查看</a></h2>
<h3 id="使用echo命令"><a class="header" href="#使用echo命令">使用<code>echo</code>命令</a></h3>
<p>使用<code>echo</code>命令查看单个环境变量。例如：</p>
<pre><code class="language-bash">&gt; echo $PATH
</code></pre>
<h3 id="使用env命令"><a class="header" href="#使用env命令">使用<code>env</code>命令</a></h3>
<p>使用<code>env</code>查看所有环境变量。例如</p>
<pre><code class="language-bash">&gt; env
</code></pre>
<h3 id="使用set查看"><a class="header" href="#使用set查看">使用set查看</a></h3>
<p>使用<code>set</code>查看所有本地定义的环境变量。</p>
<pre><code class="language-bash">&gt; set
'!'=0
'#'=0
'$'=15864
'*'=(  )
-=569JNRXZghiklms
0=/bin/zsh
'?'=0
@=(  )
ARGC=0
...
</code></pre>
<p><code>unset</code> 可以删除指定的环境变量。</p>
<h2 id="常用的环境变量"><a class="header" href="#常用的环境变量">常用的环境变量</a></h2>
<p><strong>PATH</strong>: 决定了shell将到哪些目录中寻找命令或程序</p>
<p><strong>HOME</strong>: 当前用户主目录</p>
<p><strong>HISTSIZE</strong>:　历史记录数</p>
<p><strong>LOGNAME</strong>: 当前用户的登录名</p>
<p><strong>HOSTNAME</strong>:　指主机的名称</p>
<p><strong>SHELL</strong>: 当前用户Shell类型</p>
<p><strong>LANGUGE</strong> 或 <strong>LANG</strong>: 语言相关的环境变量，多语言可以修改此环境变量</p>
<p><strong>MAIL</strong>:　当前用户的邮件存放目录</p>
<p><strong>PS1</strong>:　基本提示符，对于<code>root</code>用户是<code>#</code>，对于<code>普通用户</code>是<code>$</code></p>
<div style="break-before: page; page-break-before: always;"></div><ul>
<li><a href="environment_variables/common_variables.html#%E5%B8%B8%E8%A7%81%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F">常见环境变量</a>
<ul>
<li><a href="environment_variables/common_variables.html#linux">Linux</a></li>
</ul>
</li>
</ul>
<h1 id="常见环境变量"><a class="header" href="#常见环境变量">常见环境变量</a></h1>
<h2 id="linux"><a class="header" href="#linux">Linux</a></h2>
<ol>
<li><code>HOME</code> 用户家目录</li>
<li><code>MAIL</code> 邮件保存路径</li>
<li><code>LANG</code> 系统语言、语系名称</li>
<li><code>RANDOM</code> 生成一个随机数字</li>
<li><code>PS1</code> Bash解释器的提示符</li>
<li><code>PATH</code> 定义解释器搜索用户执行命令的路径</li>
<li><code>EDITOR</code> 用户默认的文本编辑器</li>
<li><code>LD_LIBRARY_PATH</code> 库默认加载路径</li>
<li><code>C_INCLUDE_PATH</code> gcc默认的include目录</li>
<li><code>CPLUS_INCLUDE_PATH</code> g++默认的include目录</li>
<li><code>LD_LIBRARY_PATH</code> 指定动态链接库的位置so文件，一般在安装软件出错时用到</li>
<li><code>PYTHONPATH</code> 指定python安装包的路径</li>
<li><code>PERL5LIB</code> 指定perl安装包的路径</li>
<li><code>MACHTYPE</code> 用来显示主机类型的GNU标识。一般是主机架构-公司-系统-gnu。</li>
<li><code>PWD</code> 记录当前目录</li>
<li><code>OLDPWD</code> 记录之前的目录。</li>
<li><code>HOSTTYPE</code> 用来显示主机的架构，是i386、i686、还是x86、x64等。</li>
<li><code>HOSTNAME</code> 用来显示主机名</li>
<li><code>HISTFILE</code> 记录history命令记录文件的位置。运行history命令将打印已经运行过的命令列表，即便重启机器后还可以保存以前的命令记录。因为执行过的命令会记录在<code>/root/.bash_history</code>文件中。可以执行 <code>cat /root/.bash_history</code> 查看以前执行过的命令。</li>
<li><code>HISTSIZE</code> 实际上linux并不会针对每次运行命令后就立即将命令记录写入HISTFILE对应的文件中去，而是通过命令缓冲区来记录所有已经运行过的命令，只有在缓冲区满了或者退出Shell时才将缓冲区记录写入HISTFILE对于的文件中。而缓冲区的大小需要通过HISTSIZE去定义。</li>
<li><code>HISTFILESIZE</code> 用来设置HISTFILESIZE文件记录命令的行数。这样可以限制.bash_history文件大小，避免出现文件过大的情况，不好处理。</li>
<li><code>HISTCMD</code> 记录下一条命令在history命令中的编号。</li>
<li><code>FUNCNAME</code> 在用户函数体内部，记录当前函数体的函数名。</li>
<li><code>EUID</code> 记录当前用户的UID。root用户值为0。</li>
<li><code>BASH_VERSION</code> Bash Shell的版本号</li>
<li><code>BASH</code> Bash Shell的全路径</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="常用操作"><a class="header" href="#常用操作">常用操作</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="查看端口占用"><a class="header" href="#查看端口占用">查看端口占用</a></h1>
<ul>
<li><a href="op/../op/view_port_lsof.html">lsof</a> : (list open files)是一个列出当前系统打开文件的工具。</li>
<li><a href="op/../op/view_port_netstat.html">netstat</a> : 用于显示 <code>tcp</code>，<code>udp</code> 的端口和进程等相关情况。</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="lsof"><a class="header" href="#lsof">lsof</a></h1>
<p>更多参考: <a href="https://www.yiibai.com/linux/lsof.html">https://www.yiibai.com/linux/lsof.html</a></p>
<p><strong>lsof</strong> (list open files)是一个列出当前系统打开文件的工具。</p>
<p><strong>lsof</strong> 查看端口占用语法格式：</p>
<pre><code class="language-shell">lsof -i:port
</code></pre>
<p><strong>实例:</strong></p>
<p>查看服务器 <code>8000</code> 端口的占用情况：</p>
<pre><code class="language-python"># lsof -i:8000
COMMAND   PID USER   FD   TYPE   DEVICE SIZE/OFF NODE NAME
nodejs  26993 root   10u  IPv4 37999514      0t0  TCP *:8000 (LISTEN)
# 可以看到 8000 端口已经被轻 nodejs 服务占用。
</code></pre>
<p><code>lsof -i</code> 需要 <code>root</code> 用户的权限来执行，如下图：</p>
<p><img src="op/../images/lsof.png" alt="lsof" /></p>
<p>更多 <code>lsof</code> 的命令如下：</p>
<ul>
<li><strong>lsof -i:8080</strong>：查看<code>8080</code>端口占用</li>
<li><strong>lsof abc.txt</strong>：显示开启文件<code>abc.txt</code>的进程</li>
<li><strong>lsof -c abc</strong>：显示<code>abc</code>进程现在打开的文件</li>
<li><strong>lsof -c -p 1234</strong>：列出进程号为<code>1234</code>的进程所打开的文件</li>
<li><strong>lsof -g gid</strong>：显示归属<code>gid</code>的进程情况</li>
<li><strong>lsof +d /usr/local/</strong>：显示目录下被进程开启的文件</li>
<li><strong>lsof +D /usr/local/</strong>：同上，但是会搜索目录下的目录，时间较长</li>
<li><strong>lsof -d 4</strong>：显示使用<code>fd</code>为<code>4</code>的进程</li>
<li><strong>lsof -i -U</strong>：显示所有打开的端口和<code>UNIX domain</code>文件</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="netstat"><a class="header" href="#netstat">netstat</a></h1>
<p>更多参考: <a href="https://www.yiibai.com/linux/netstat.html">https://www.yiibai.com/linux/netstat.html</a></p>
<p><code>netstat -tunlp</code> 用于显示 <code>tcp</code>，<code>udp</code> 的端口和进程等相关情况。</p>
<p><code>netstat</code> 查看端口占用语法格式：</p>
<pre><code class="language-shell">netstat -tunlp | grep 端口号
</code></pre>
<ul>
<li><code>-t</code> (tcp) 仅显示tcp相关选项</li>
<li><code>-u</code> (udp)仅显示udp相关选项</li>
<li><code>-n</code> 拒绝显示别名，能显示数字的全部转化为数字</li>
<li><code>-l</code> 仅列出在Listen(监听)的服务状态</li>
<li><code>-p</code> 显示建立相关链接的程序名</li>
</ul>
<p>例如查看 <code>8000</code> 端口的情况，使用以下命令：</p>
<pre><code class="language-shell"># netstat -tunlp | grep 8000
tcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      26993/nodejs   
</code></pre>
<p>更多命令：</p>
<pre><code class="language-python">netstat -ntlp   // 查看当前所有tcp端口
netstat -ntulp | grep 80   // 查看所有80端口使用情况
netstat -ntulp | grep 3306   // 查看所有3306端口使用情况
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mac常用操作"><a class="header" href="#mac常用操作">MAC常用操作</a></h1>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                            </nav>

        </div>

                <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3000/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
                        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
                
    </body>
</html>
